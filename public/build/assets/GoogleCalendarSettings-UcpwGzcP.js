import{r as x,j as e}from"./app-Be5uCMNC.js";import j from"./SettingsSectionShell-BKQE600h.js";import{F as v}from"./CalendarDaysIcon-DYZJ9uJF.js";import{F as f}from"./ArrowPathIcon--9mEof5Y.js";import{F as y,a as _}from"./ClipboardIcon-Cpspe1-9.js";function R({data:s,setData:a,submit:m,processing:g,errors:r,googleCalendarSettings:b}){const i=x.useMemo(()=>typeof window>"u"?"":`${window.location.origin}/google-calendar/callback`,[]),[d,c]=x.useState(!1);x.useEffect(()=>{if(!d)return;const t=setTimeout(()=>c(!1),1200);return()=>clearTimeout(t)},[d]);const h=async()=>{try{await navigator.clipboard.writeText(i),c(!0)}catch{try{const l=document.createElement("textarea");l.value=i,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),c(!0)}catch{}}},o="w-full rounded-lg border border-slate-200 bg-white px-4 py-3 text-[12px] text-slate-900 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/20",n=({label:t,error:l,children:u})=>e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:t}),e.jsx("div",{className:"mt-2",children:u}),l?e.jsx("div",{className:"mt-1 text-[12px] text-red-600",children:l}):null]}),p=!!b?.client_secret_set;return e.jsx(j,{title:"",description:"",children:e.jsxs("div",{className:"-m-5 overflow-hidden rounded-2xl border border-slate-200 bg-white",children:[e.jsx("div",{className:"border-b border-slate-200 bg-white",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-6",children:[e.jsxs("div",{className:"my-3 inline-flex items-center gap-2 text-[12px] font-semibold text-slate-900",children:[e.jsx(v,{className:"h-5 w-5"}),"Google Calendar"]}),e.jsx("button",{type:"button",onClick:m,disabled:g,className:"my-3 inline-flex items-center justify-center rounded-xl bg-red-600 px-5 py-2.5 text-[12px] font-bold text-white transition hover:bg-red-700 disabled:opacity-50",children:"Save"})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Integration"}),e.jsx("div",{className:"mt-1 text-[12px] text-slate-500",children:"Connect Google Calendar for scheduling and sync."}),e.jsxs("div",{className:"mt-5 grid gap-5 md:grid-cols-2",children:[e.jsx(n,{label:"Enabled",error:r.google_calendar_enabled,children:e.jsxs("label",{className:"flex items-center gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 text-[12px] text-slate-700",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary-600 focus:ring-primary-500",checked:!!s.google_calendar_enabled,onChange:t=>a("google_calendar_enabled",t.target.checked)}),e.jsx("span",{children:"Enable Google Calendar integration"})]})}),e.jsx("div",{}),e.jsx(n,{label:"Client ID",error:r.google_calendar_client_id,children:e.jsx("input",{value:s.google_calendar_client_id||"",onChange:t=>a("google_calendar_client_id",t.target.value),className:o,placeholder:"Google OAuth Client ID"})}),e.jsxs(n,{label:"Client Secret",error:r.google_calendar_client_secret,children:[e.jsx("input",{type:"password",value:s.google_calendar_client_secret||"",onChange:t=>a("google_calendar_client_secret",t.target.value),className:o,placeholder:p?"•••••••••• (already saved)":"Client Secret"}),e.jsx("div",{className:"mt-2 text-[11px] text-slate-500",children:p?"Secret is already saved. Leave blank to keep it.":"Secret is not set yet."})]})]})]}),e.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Sync"}),e.jsx("div",{className:"mt-1 text-[12px] text-slate-500",children:"Control background synchronization."})]}),e.jsxs("button",{type:"button",onClick:()=>m(),disabled:g,className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-2 text-[12px] font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:[e.jsx(f,{className:"h-4 w-4"}),"Save"]})]}),e.jsxs("div",{className:"mt-5 grid gap-5 md:grid-cols-2",children:[e.jsx(n,{label:"Sync enabled",error:r.google_calendar_sync_enabled,children:e.jsxs("label",{className:"flex items-center gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 text-[12px] text-slate-700",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary-600 focus:ring-primary-500",checked:!!s.google_calendar_sync_enabled,onChange:t=>a("google_calendar_sync_enabled",t.target.checked)}),e.jsx("span",{children:"Keep events in sync"})]})}),e.jsx(n,{label:"Sync interval (minutes)",error:r.google_calendar_sync_interval_min,children:e.jsx("input",{type:"number",min:1,max:1440,value:s.google_calendar_sync_interval_min??10,onChange:t=>a("google_calendar_sync_interval_min",Number(t.target.value||0)),className:o,placeholder:"10"})})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Redirect URL"}),e.jsx("div",{className:"mt-1 text-[12px] text-slate-500",children:"Use this redirect URL in Google Cloud Console."}),e.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-white p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"rounded-lg bg-slate-50 px-3 py-2 font-mono text-[11px] text-slate-700 break-all",children:i}),e.jsx("div",{className:"mt-2 text-[11px] text-slate-500",children:"Allowed redirect URI for Google OAuth."})]}),e.jsx("button",{type:"button",onClick:h,className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",title:"Copy",children:d?e.jsx(y,{className:"h-5 w-5"}):e.jsx(_,{className:"h-5 w-5"})})]}),d?e.jsx("div",{className:"mt-3 text-[12px] font-semibold text-slate-900",children:"Copied"}):null]})]})})]})})]})})}export{R as default};
