import{r as a,j as e}from"./app-Be5uCMNC.js";import N from"./SettingsSectionShell-BKQE600h.js";import{F as v}from"./MagnifyingGlassIcon-BttqfDqv.js";import{F as y}from"./ArrowPathIcon--9mEof5Y.js";function C({title:l,titleId:r,...d},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},d),l?a.createElement("title",{id:r},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const S=a.forwardRef(C);function F({data:l,setData:r,submit:d,processing:i,errors:c,moduleSettings:m}){const[x,b]=a.useState(""),o=Array.isArray(m?.modules)?m.modules:[],h=l.modules||{},u=a.useMemo(()=>{const t=String(x||"").trim().toLowerCase();return t?o.filter(s=>String(s.name||"").toLowerCase().includes(t)):o},[o,x]),f=(t,s)=>{r("modules",{...l.modules||{},[t]:!!s})},p=t=>{const s={...l.modules||{}};for(const n of o)n?.name&&(s[n.name]=!!t);r("modules",s)},j=({checked:t,onChange:s})=>e.jsx("button",{type:"button",onClick:()=>s(!t),className:"relative inline-flex h-6 w-11 items-center rounded-full transition "+(t?"bg-slate-900":"bg-slate-200"),"aria-pressed":t,children:e.jsx("span",{className:"inline-block h-5 w-5 transform rounded-full bg-white transition "+(t?"translate-x-5":"translate-x-1")})}),g=({enabled:t})=>e.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-1 text-[11px] font-semibold "+(t?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"),children:t?"Enabled":"Disabled"});return e.jsx(N,{title:"",description:"",children:e.jsxs("div",{className:"-m-5 overflow-hidden rounded-2xl border border-slate-200 bg-white",children:[e.jsx("div",{className:"border-b border-slate-200 bg-white",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-6",children:[e.jsxs("div",{className:"my-3 inline-flex items-center gap-2 text-[12px] font-semibold text-slate-900",children:[e.jsx(S,{className:"h-5 w-5"}),"Modules"]}),e.jsx("button",{type:"button",onClick:d,disabled:i,className:"my-3 inline-flex items-center justify-center rounded-xl bg-red-600 px-5 py-2.5 text-[12px] font-bold text-white transition hover:bg-red-700 disabled:opacity-50",children:"Save"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"relative w-full max-w-sm",children:[e.jsx(v,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),e.jsx("input",{value:x,onChange:t=>b(t.target.value),className:"w-full rounded-xl border border-slate-200 bg-white py-2.5 pl-10 pr-4 text-[12px] text-slate-900 focus:border-slate-300 focus:outline-none",placeholder:"Search moduleâ€¦"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>p(!0),className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-[12px] font-semibold text-slate-700 hover:bg-slate-50",children:"Enable all"}),e.jsx("button",{type:"button",onClick:()=>p(!1),className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-[12px] font-semibold text-slate-700 hover:bg-slate-50",children:"Disable all"}),e.jsxs("button",{type:"button",onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-2 text-[12px] font-semibold text-slate-700 hover:bg-slate-50",children:[e.jsx(y,{className:"h-4 w-4"}),"Refresh"]})]})]}),c.modules?e.jsx("div",{className:"mt-3 text-[12px] text-red-600",children:c.modules}):null,e.jsx("div",{className:"mt-4 overflow-hidden rounded-xl border border-slate-200 bg-white",children:e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{className:"bg-slate-50",children:e.jsxs("tr",{className:"text-left text-[12px] font-semibold text-slate-700",children:[e.jsx("th",{className:"px-4 py-3",children:"Module"}),e.jsx("th",{className:"px-4 py-3",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Enabled"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:u.length?u.map(t=>{const s=t.name,n=h[s]??!!t.enabled;return e.jsxs("tr",{className:"text-[12px] text-slate-700",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-semibold text-slate-900",children:s}),e.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:"Controls features and routes for this module."})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(g,{enabled:!!n})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx(j,{checked:!!n,onChange:w=>f(s,w)})})]},s)}):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-[12px] text-slate-500",children:"No modules found."})})})]})}),e.jsx("div",{className:"mt-4 text-[12px] text-slate-500",children:"Disabling a module may require a page refresh and can affect routes and menu visibility."})]})]})})}export{F as default};
