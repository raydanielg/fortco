import{j as e}from"./app-Be5uCMNC.js";import j from"./SettingsSectionShell-BKQE600h.js";function i(t){const s=Number(t)||0;if(s<1024)return`${s} B`;const l=s/1024;if(l<1024)return`${l.toFixed(2)} KB`;const d=l/1024;return d<1024?`${d.toFixed(2)} MB`:`${(d/1024).toFixed(2)} GB`}function y({stats:t,data:s,setData:l,submit:d,processing:c,errors:a}){const x=Math.max(0,Math.min(100,Number(t?.used_percent??0))),o=Number(t?.total_bytes??0),m=Number(t?.quota_bytes??0),u=Number(t?.public?.files??0),b=Number(t?.public?.bytes??0),p=Number(t?.private?.files??0),v=Number(t?.private?.bytes??0),h=Number(t?.media?.count??0),g=Number(t?.media?.bytes??0),n="w-full rounded-lg border border-slate-200 bg-white px-4 py-3 text-[12px] text-slate-900 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/20";return e.jsx(j,{title:"",description:"",children:e.jsxs("div",{className:"-m-5 overflow-hidden rounded-2xl border border-slate-200 bg-white",children:[e.jsx("div",{className:"border-b border-slate-200 bg-white",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-6 py-3",children:[e.jsx("div",{className:"text-[12px] font-semibold text-slate-900",children:"Storage Overview"}),e.jsx("button",{type:"button",onClick:d,disabled:c,className:"inline-flex items-center justify-center rounded-xl bg-red-600 px-5 py-2.5 text-[12px] font-bold text-white transition hover:bg-red-700 disabled:opacity-50",children:"Save"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid gap-5 lg:grid-cols-4",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:"Total used"}),e.jsx("div",{className:"mt-2 text-xl font-black text-slate-900",children:i(o)}),e.jsx("div",{className:"mt-1 text-[12px] text-slate-500",children:"Across public + private"})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:"Public"}),e.jsx("div",{className:"mt-2 text-xl font-black text-slate-900",children:u}),e.jsx("div",{className:"mt-1 text-[12px] text-slate-500",children:i(b)})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:"Private"}),e.jsx("div",{className:"mt-2 text-xl font-black text-slate-900",children:p}),e.jsx("div",{className:"mt-1 text-[12px] text-slate-500",children:i(v)})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:"Media library"}),e.jsx("div",{className:"mt-2 text-xl font-black text-slate-900",children:h}),e.jsx("div",{className:"mt-1 text-[12px] text-slate-500",children:i(g)})]})]}),e.jsxs("div",{className:"mt-6 grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Quota Usage"}),e.jsx("div",{className:"mt-1 text-[12px] text-slate-500",children:m>0?e.jsxs(e.Fragment,{children:[i(o)," of ",i(m)," used"]}):"Quota is not set"})]}),e.jsxs("div",{className:"text-[12px] font-bold text-slate-900",children:[x,"%"]})]}),e.jsx("div",{className:"mt-4 h-3 w-full overflow-hidden rounded-full bg-slate-200",children:e.jsx("div",{className:"h-full rounded-full bg-red-600 transition",style:{width:`${x}%`}})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Configuration"}),e.jsx("div",{className:"mt-1 text-[12px] text-slate-500",children:"Defaults used by uploads and generated assets."}),e.jsxs("div",{className:"mt-5 grid gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:"Default disk"}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{value:s.storage_default_disk||"public",onChange:r=>l("storage_default_disk",r.target.value),className:n,children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"local",children:"Private"})]})}),a.storage_default_disk?e.jsx("div",{className:"mt-1 text-[12px] text-red-600",children:a.storage_default_disk}):null]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:"Quota (MB)"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{type:"number",value:s.storage_quota_mb??0,onChange:r=>l("storage_quota_mb",r.target.value),className:n,min:0})}),a.storage_quota_mb?e.jsx("div",{className:"mt-1 text-[12px] text-red-600",children:a.storage_quota_mb}):null,e.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:"Set 0 to disable quota."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:"Retention days"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{type:"number",value:s.storage_retention_days??0,onChange:r=>l("storage_retention_days",r.target.value),className:n,min:0})}),a.storage_retention_days?e.jsx("div",{className:"mt-1 text-[12px] text-red-600",children:a.storage_retention_days}):null,e.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:"Set 0 to keep forever."})]})]})]})})]})]})]})})}export{y as default};
