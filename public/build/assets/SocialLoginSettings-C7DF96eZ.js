import{r as b,j as e}from"./app-_tcWvRHw.js";import N from"./SettingsSectionShell-BcY7WPRA.js";import{F as w,a as C}from"./ClipboardIcon-vno79IZe.js";function E({data:r,setData:a,submit:u,processing:g,errors:n}){const s=r.social_provider||"google",d=b.useMemo(()=>typeof window>"u"?"":`${window.location.origin}/auth/${s}/callback`,[s]),[i,o]=b.useState(!1);b.useEffect(()=>{if(!i)return;const t=setTimeout(()=>o(!1),1200);return()=>clearTimeout(t)},[i]);const j=async()=>{try{await navigator.clipboard.writeText(d),o(!0)}catch{try{const l=document.createElement("textarea");l.value=d,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),o(!0)}catch{}}},f=[{key:"google",label:"Google"},{key:"apple",label:"Apple"},{key:"facebook",label:"Facebook"}],v=t=>"inline-flex items-center border-b-2 px-4 py-3 text-[12px] font-semibold transition "+(t?"border-slate-900 text-slate-900":"border-transparent text-slate-500 hover:text-slate-900"),h="w-full rounded-lg border border-slate-200 bg-white px-4 py-3 text-[12px] text-slate-900 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/20",c=({label:t,error:l,children:y})=>e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:t}),e.jsx("div",{className:"mt-2",children:y}),l?e.jsx("div",{className:"mt-1 text-[12px] text-red-600",children:l}):null]}),x=`social_${s}_enabled`,p=`social_${s}_client_id`,m=`social_${s}_client_secret`;return e.jsx(N,{title:"",description:"",children:e.jsxs("div",{className:"-m-5 overflow-hidden rounded-2xl border border-slate-200 bg-white",children:[e.jsx("div",{className:"border-b border-slate-200 bg-white",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-6",children:[e.jsx("div",{className:"flex items-center",children:f.map(t=>e.jsx("button",{type:"button",onClick:()=>a("social_provider",t.key),className:v(s===t.key),children:t.label},t.key))}),e.jsx("button",{type:"button",onClick:u,disabled:g,className:"my-3 inline-flex items-center justify-center rounded-xl bg-red-600 px-5 py-2.5 text-[12px] font-bold text-white transition hover:bg-red-700 disabled:opacity-50",children:"Save"})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Provider"}),e.jsxs("div",{className:"mt-1 text-[12px] text-slate-500",children:["Enable and configure ",s," login."]}),e.jsxs("div",{className:"mt-5 grid gap-5 md:grid-cols-2",children:[e.jsx(c,{label:"Enabled",error:n[x],children:e.jsxs("label",{className:"flex items-center gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 text-[12px] text-slate-700",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-primary-600 focus:ring-primary-500",checked:!!r[x],onChange:t=>a(x,t.target.checked)}),e.jsxs("span",{children:["Allow users to sign in with ",s]})]})}),e.jsx("div",{}),e.jsx(c,{label:"Client ID",error:n[p],children:e.jsx("input",{value:r[p]||"",onChange:t=>a(p,t.target.value),className:h,placeholder:"Client ID"})}),e.jsx(c,{label:"Client Secret",error:n[m],children:e.jsx("input",{type:"password",value:r[m]||"",onChange:t=>a(m,t.target.value),className:h,placeholder:"Client Secret"})})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Redirect URL"}),e.jsx("div",{className:"mt-1 text-[12px] text-slate-500",children:"Use this redirect URL in the provider console."}),e.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-white p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"rounded-lg bg-slate-50 px-3 py-2 font-mono text-[11px] text-slate-700 break-all",children:d}),e.jsx("div",{className:"mt-2 text-[11px] text-slate-500",children:"Callback path is based on the selected provider."})]}),e.jsx("button",{type:"button",onClick:j,className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",title:"Copy",children:i?e.jsx(w,{className:"h-5 w-5"}):e.jsx(C,{className:"h-5 w-5"})})]}),i?e.jsx("div",{className:"mt-3 text-[12px] font-semibold text-slate-900",children:"Copied"}):null]})]})})]})})]})})}export{E as default};
